{{ "<!-- Portfolio Modals -->" | safeHTML }}
{{ range $projectIndex, $project := .Site.Data.projects }}
<div class="projects-modal modal fade" id="portfolioModal{{ $project.modalID }}" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-content col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 col-xl-6 col-xl-offset-3">
        <div class="close-modal" data-dismiss="modal">
            <div class="lr">
                <div class="rl">
                </div>
            </div>
        </div>
        <div class="col-sm-10 col-sm-offset-1 modal-body">
            <div class="modal-title">
                {{ with $project.title }}
                    <h3 class="section-heading">{{ . }}</h3>
                {{ end }}
                <div>
                    <hr/>
                </div>
                <h5>
                    <div>{{ $project.date }}</div>
                    <div>{{ $project.place }}</div>
                </h5>

                {{ "<!-- Project carousel -->" | safeHTML }}
                <div id="carousel-example-generic-{{ $project.modalID }}" 
                    class="carousel slide"
                    data-ride="carousel"
                    data-interval="false">

                    {{ "<!-- Slides -->" | safeHTML }}
                    <div class="carousel-inner" role="listbox">
                        {{ range $index, $element := .img }}
                            <div class="item {{ if eq $index 0 }} active {{ end }}">
                                <img src="{{ . }}">
                            </div>
                        {{ end }}
                    </div>

                    {{ "<!-- Indicators -->" | safeHTML }}
                    <ol class="carousel-indicators">
                        {{ range $index, $element := .img }}
                            <li data-target="#carousel-example-generic-{{ $project.modalID }}" 
                                data-slide-to="{{ $index }}" 
                                class="{{ if eq $index 0 }} active {{ end }}">
                            </li>
                        {{ end }}
                    </ol>

                    {{ "<!-- Type Idicators -->" | safeHTML }}
                    <div class="carousel-type text-center">Picture</div>

                    <ol class="carousel-indicators carousel-type-indicators">
                        <li id="carousel-type-img"
                            data-target="#carousel-example-generic-{{ $project.modalID }}" 
                            class="active"
                        />
                        {{ if .video }}
                            <li id="carousel-type-video">
                        {{ end }}
                        {{ if .three_ds }}
                            <li id="carousel-type-3ds">
                        {{ end }}
                    </ol>

                </div>


            </div>
            {{ with .description }}
                <div class="modal-description">
                    <p class="text-justify">{{ . | markdownify }}</p>
                </div>
            {{ end }}
        </div>
    </div>
</div>
{{ end }}
