{{ "<!-- jQuery -->" | safeHTML }}
<script src="{{ "js/jquery.js" | absURL }}"></script>
{{ "<!-- Bootstrap Core JavaScript -->" | safeHTML }}
<script src="{{ "js/bootstrap.min.js" | absURL }}"></script>
{{ "<!-- Plugin JavaScript -->" | safeHTML }}
<script src="{{ "js/jquery.easing.min.js" | absURL }}"></script>
<script src="{{ "js/jquery.fittext.js" | absURL }}"></script>
<script src="{{ "js/wow.min.js" | absURL }}"></script>
{{ if .Site.Params.location }}
<script src="//maps.googleapis.com/maps/api/js?key={{ .Site.Params.location.maps_api_key }}&v=3.exp"></script>
<script src="{{ "js/hpneo.gmaps.js" | absURL }}"></script>
<script src="{{ "js/gmaps.init.js" | absURL }}"></script>
{{ end }}
{{ "<!-- Custom Theme JavaScript -->" | safeHTML }}
<script src="{{ "js/creative.js" | absURL }}"></script>
<script src="{{ "js/slick.min.js" | absURL }}"></script>
<script src="{{ "js/owl.carousel.min.js" | absURL }}"></script>

<script type="text/javascript">
  // Handle interactive svg map
  var lang = {{.Site.Language.Lang}};
  var countries = {{.Site.Data.map.countries}};
  var projects = Object.values({{.Site.Data.projects}});

  var projectsByCountry = projects.reduce((groups, item) => {
    var val = item['mapId'];
    groups[val] = groups[val] || [];
    groups[val].push(item);
    return groups;
  }, {});

  // Initialize all interaction and display of projects within a country on the map
  Object.keys(projectsByCountry).map((mapId) => {
    $('#' + mapId).attr("class", "visited");
    
    $('#iconem-map-svg path#' + mapId).hover((e) => {
      $('#iconem-map-info > #iconem-map-info-title').append(countries[mapId][lang]);
      Object.values(projectsByCountry[mapId]).map((project) => {
        $('#iconem-map-info > #iconem-map-info-description ul').append("<li>" + project.place[lang] + "</li>");
      });
      $('#iconem-map-info').css('display','block');
    });
 
    $('#iconem-map-svg path#' + mapId).mouseleave((e) => {
      $('#iconem-map-info > #iconem-map-info-title').empty();
        $('#iconem-map-info > #iconem-map-info-description ul').empty();
      $('#iconem-map-info').css('display','none');
    });
  });
</script>

<script type="text/javascript">
  // config projects section carousel
  $(document).ready(function() {
    $('#main-projects-carousel').slick({
      rows: 3,
      slidesPerRow: 4,
      infinite: false,
      adaptiveHeight: true,
      dots: true,
      appendDots: $('#main-projects-carousel-dots-container'),
      dotsClass: 'main-projects-carousel-dots',
      responsive: [
        {
          breakpoint: 1200,
          settings: {
            rows: 3,
            slidesPerRow: 3
          }
        },
        {
          breakpoint: 800,
          settings: {
            rows: 3,
            slidesPerRow: 2
          }
        },
        {
          breakpoint: 600,
          settings: {
            rows: 3,
            slidesPerRow: 1
          }
        }
      ]
    });
  });
</script>

<script type="text/javascript">
  $(document).ready(function(){
    $(".owl-carousel").owlCarousel({
      items: 1,
      loop: true,
      dots: true
    });
  });
</script>